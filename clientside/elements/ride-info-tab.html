<link rel="import" href="/components/core-collapse/core-collapse.html">


<polymer-element name="ride-info-tab" attributes="ride">
  <template>
    <style>
    :host {
      display: block;
      width: 100%;
    }
    #content {
      margin: 2px;
    }
    #description {
      padding: .5em;
      white-space: pre-line;
    }
    th, td {
      font-size: 90%;
    }
    th {
      text-align: right;
    }
    ul {
      margin: 0;
    }
    </style>

    <div id="content">
      <template if="{{ride.facts.length}}">
        <section>
	  <table cellpadding="3">
	    <template repeat="{{fact in ride.facts}}">
    	      <tr><th>{{fact[0]}}</th><td>{{fact[1]}}</td></tr>
	    </template>
	  </table>
        </section>
      </template>

      <section id="description">{{ride.description}}</section>

      <template if="{{ride.tips.length}}">
        <section>
	  <h3>Tips</h3>
	  <ul>
   	    <template repeat="{{tip in ride.tips}}">
    	      <li>{{tip}}</li>
	    </template>
	  </ul>
        </section>
      </template>
      
      <section id="sources" class="unimportant">
          Sources:
          <template repeat="{{src in ride.sources}}">	    
	    <template if="{{src.href}}">
	      <a href="{{src.href}}" class="comma-sep">{{src.label}}</a>
	    </template>
	    <template if="{{!src.href}}">
	      <a class="comma-sep">{{src.label}}</a>
	    </template>
	  </template>
      </section>
      
    </div>

  </template>

  <script>
  Polymer({
    ride: {},

    rideChanged: function() {
      if (this.ride.sources && this.ride.sources.length) {
        this.$.sources.style.display = '';
      } else {
        this.$.sources.style.display = 'none';
      }
    }
  });
  </script>
</polymer-element>
